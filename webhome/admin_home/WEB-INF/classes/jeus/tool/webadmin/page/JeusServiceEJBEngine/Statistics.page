<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 4.0//EN" 
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">

<page-specification class="jeus.tool.webadmin.page.JeusServiceEJBEngine.StatisticsPage">
    <meta key="alternative.page.name">JeusServiceEJBEngine_Configuration</meta>

    <component id="mainBorder" type="jeus:MainBorder">
        <binding name="title" value="literal:EJBEngine Control"/>
    </component>

    <component id="tabPanel" type="jeus:TabPanel">
        <binding name="pageNames" value="@jeus.tool.webadmin.page.PageNames@getJEUSSERVICE_EJBENGINE_NAMES(objectName)"/>
        <binding name="subtabNames" value="{'module', 'thread'}"/>
    </component>

    <component id="moduleForm" type="jeus:JEUSForm">
        <binding name="title" value="message:ejm.statistics.module.title"/>
        <binding name="useDefaultButtons" value="false"/>
    </component>
    
    <component id="threadForm" type="jeus:JEUSForm">
        <binding name="title" value="message:ejm.statistics.thread.title"/>
        <binding name="useDefaultButtons" value="false"/>
    </component>    

    <component id="moduleTable" type="jeus:JEUSTable">
        <binding name="source" value="statsList"/>
        <binding name="columns" value="literal:ejm.statistics.application.name.label:applicationName, ejm.statistics.module.name.label:moduleName, ejm.statistics.bean.name.label:beanName, ejm.statistics.create.label:createCount, ejm.statistics.remove.label:removeCount, ejm.statistics.request.label:requestCount, ejm.statistics.committed.label:committedCount, ejm.statistics.rolledback.label:rolledbackCount"/>
        <binding name="row" value="currentStats"/>
        <binding name="currentPageClass" value="literal:table_current_page"/>
        <binding name="columnsClass" value="literal:table_columns"/>
        <binding name="valuesClass" value="literal:table_values"/>
        <binding name="pagesLinkClass" value="literal:table_pages_link"/>
        <binding name="tableClass" value="literal:table"/>
    </component>

    <component id="moduleLink2" type="ExternalLink">
        <binding name="page" value="literal:EJBModule_Configuration"/>
        <binding name="parameters" value="currentStats.moduleObjectName.canonicalName"/>
    </component>

    <component id="moduleName2" type="Insert">
        <binding name="value" value="currentStats.moduleName"/>
    </component>

    <component id="beanLink" type="ExternalLink">
        <binding name="page" value="literal:EJB_Statistics"/>
        <binding name="parameters" value="currentStats.beanObjectName.canonicalName"/>
    </component>

    <component id="beanName" type="Insert">
        <binding name="value" value="currentStats.beanName"/>
    </component>

    <component id="refreshButton" type="Any">
        <binding name="element" value="literal:input"/>
        <binding name="value" value="message:common.label.refresh"/>
    </component>
    
    <component id="threadTable" type="jeus:JEUSTable">
        <binding name="source" value="threadInfos"/>
        <binding name="columns" value="literal:ejm.statistics.thread.id.label:tid, ejm.statistics.thread.name.label:threadName, ejm.statistics.thread.state.label:threadState, ejm.statistics.thread.activeTime.label:activeTime, !control"/>
        <binding name="row" value="threadInfo"/>
        <binding name="pagesDisplayed" value="@java.lang.Integer@MAX_VALUE"/>
        <binding name="currentPageClass" value="literal:table_current_page"/>
        <binding name="columnsClass" value="literal:table_columns"/>
        <binding name="valuesClass" value="literal:table_values"/>
        <binding name="pagesLinkClass" value="literal:table_pages_link"/>
        <binding name="tableClass" value="literal:table"/>
    </component>    

    <property name="currentView"/>
    <property name="currentStats"/>
</page-specification>