<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC "-//Apache Software Foundation//Tapestry Specification 4.0//EN" "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">
<page-specification class="jeus.tool.webadmin.page.JeusServiceSnmpAgentService.ConfigurationPage">
    <component id="mainBorder" type="jeus:MainBorder">
        <binding name="title" value="literal:Snmp Agent Service Configuration"/>
        
    </component>

    <component id="tabPanel" type="jeus:TabPanel">
        <binding name="pageNames" value="new java.lang.String[]{pageName}"/>
        <binding name="subtabNames" value="{'general', 'trap_demon'}"/>
    </component>

    <component id="general" type="Block"/>
    <component id="trap_demon" type="Block"/>

    <component id="generalForm" type="jeus:MBeanForm">
        <binding name="title" value="message:snmp.general.title"/>
        <binding name="listener" value="listener:onGeneralOk"/>
        <binding name="objectName" value="@jeus.tool.webadmin.util.JMXUtils@getSnmpAgentServiceName(objectName)"/>
    </component>

    <component id="snmp_adaptor_port" type="jeus:Field">
        <binding name="field" value="component:snmp_adaptor_portField"/>
    </component>

    <component id="snmp_adaptor_portField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="snmpAdaptor"/>
        <binding name="elementName" value="literal:snmpAdaptorPort"/>
        <binding name="displayName" value="message:snmp.general.snmp_adaptor_port.label"/>
        <binding name="translator" value="translator:number2"/>
        <binding name="validators" value="validators:required,min=1"/>
    </component>

    <component id="general_blind" type="jeus:Blind">
        <binding name="title" value="message:common.label.advanced"/>
    </component>

    <component id="snmp_max_packet_size" type="jeus:Field">
        <binding name="field" value="component:snmp_max_packet_sizeField"/>
    </component>

    <component id="snmp_max_packet_sizeField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="snmpAdaptor"/>
        <binding name="elementName" value="literal:snmpMaxPacketSize"/>
        <binding name="displayName" value="message:snmp.general.snmp_max_packet_size.label"/>
        <binding name="translator" value="translator:number2"/>
        <binding name="validators" value="validators:min=256"/>
        <binding name="MBeanAttributeName" value="literal:MaxPacketSize"/>
    </component>

    <component id="snmp_security" type="jeus:Field">
        <binding name="field" value="component:snmp_securityField"/>
        <binding name="label" value="message:snmp.general.snmp_security.label"/>
    </component>

    <component id="snmp_securityField" type="jeus:JAXBCheckbox">
        <binding name="parentElement" value="snmpAdaptor"/>
        <binding name="elementName" value="literal:snmpSecurity"/>
    </component>

    <component id="snmp_version" type="jeus:Field">
        <binding name="field" value="component:snmp_versionField"/>
        <binding name="label" value="message:snmp.general.snmp_version.label"/>
    </component>

    <component id="snmp_versionField" type="jeus:JAXBPropertySelection">
        <binding name="parentElement" value="snmpAdaptor"/>
        <binding name="elementName" value="literal:snmpVersion"/>
        <binding name="model" value="snmpVersionModel"/>
    </component>

    <component id="trap_demonForm" type="jeus:JEUSForm">
        <binding name="title" value="message:snmp.trap_demon.title"/>
        <binding name="useForm" value="false"/>
    </component>


    <component id="eachTrapDemon" type="For">
        <binding name="source" value="trapDemons"/>
        <binding name="value" value="trapDemon"/>
        <binding name="element" value="literal:tr"/>
    </component>

    <component id="ip_address_column" type="Insert">
        <binding name="value" value="message:snmp.trap_demon.ip_address.label"/>
    </component>

    <component id="port_column" type="Insert">
        <binding name="value" value="message:snmp.trap_demon.port.label"/>
    </component>

    <component id="ip_address_value" type="Insert">
        <binding name="value" value="trapDemon.ipAddress"/>
    </component>

    <component id="port_value" type="Insert">
        <binding name="value" value="trapDemon.port"/>
    </component>

    <component id="deleteLink" type="DirectLink">
        <binding name="listener" value="listener:onDelete"/>
        <binding name="parameters" value="{trapDemon.ipAddress, trapDemon.port}"/>
        <binding name="renderer" value="@jeus.tool.webadmin.component.render.ConfirmLinkRenderer@build('common.message.delete.confirm', trapDemon.ipAddress+':'+trapDemon.port)"/>
    </component>

    <component id="delete" type="Image">
        <binding name="image" value="asset:delete"/>
    </component>

    <component id="addForm" type="jeus:JEUSForm">
        <binding name="useDefaultButtons" value="false"/>
    </component>

    <component id="ip_address" type="jeus:Field">
        <binding name="field" value="component:ip_addressField"/>
    </component>

    <component id="ip_addressField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="newTrapDemon"/>
        <binding name="elementName" value="literal:ipAddress"/>
        <binding name="displayName" value="message:snmp.trap_demon.ip_address.label"/>
        <binding name="validators" value="validators:required"/>
    </component>

    <component id="port" type="jeus:Field">
        <binding name="field" value="component:portField"/>
    </component>

    <component id="portField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="newTrapDemon"/>
        <binding name="elementName" value="literal:port"/>
        <binding name="displayName" value="message:snmp.trap_demon.port.label"/>
        <binding name="translator" value="translator:number2"/>
        <binding name="validators" value="validators:required,min=1"/>
    </component>

    <component id="add_trap_demon" type="Submit">
        <binding name="value" value="message:common.label.add"/>
        <binding name="listener" value="listener:onAddOk"/>
    </component>

    <asset name="delete" path="context:/image/table/delete.gif"/>
    <property name="trapDemon"/>
</page-specification>
