<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC "-//Apache Software Foundation//Tapestry Specification 4.0//EN" "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">
<page-specification class="jeus.tool.webadmin.page.JeusServiceWebtobBackup.ConfigurationPage">
    <component id="mainBorder" type="jeus:MainBorder">
        <binding name="title" value="literal:WebtobBackup Configuration"/>
        
    </component>

    <component id="tabPanel" type="jeus:TabPanel">
        <binding name="pageNames" value="new java.lang.String[]{'JeusServiceWebtobBackup_Configuration'}"/>
        <binding name="subtabNames" value="{'general','thread_pool','miscellaneous'}"/>
        <binding name="notFound" value="backup == null"/>
        <binding name="notFoundBlock" value="component:notFound"/>
    </component>

    <component id="general" type="Block"/>
    <component id="thread_pool" type="Block"/>
    <component id="miscellaneous" type="Block"/>
    <component id="notFound" type="Block"/>

    <component id="general_blind" type="jeus:Blind">
        <binding name="title" value="message:common.label.advanced"/>
    </component>

    <component id="generalForm" type="jeus:JEUSForm">
        <binding name="title" value="message:JeusServiceWebListener_Configuration.general"/>
        <binding name="success" value="listener:onGeneralOk"/>
    </component>

    <component id="port" type="jeus:Field">
        <binding name="field" value="component:portField"/>
        
    </component>

    <component id="portField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:port"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:required,min=1"/>
    </component>

    <component id="output_buffer_size" type="jeus:Field">
        <binding name="field" value="component:output_buffer_sizeField"/>
        <binding name="unit" value="message:common.unit.bytes"/>
    </component>

    <component id="output_buffer_sizeField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:outputBufferSize"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="postdata_read_timeout" type="jeus:Field">
        <binding name="field" value="component:postdata_read_timeoutField"/>
        <binding name="unit" value="message:common.unit.msec"/>
    </component>

    <component id="postdata_read_timeoutField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:postdataReadTimeout"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="scheme" type="jeus:Field">
        <binding name="field" value="component:schemeField"/>
    </component>

    <component id="schemeField" type="jeus:JAXBPropertySelection">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:scheme"/>
        <binding name="model" value="@jeus.tool.webadmin.page.EnumerationSet@getEnumPropertySelectionModel(@jeus.xml.binding.jeusDD.SchemeType@class)"/>
    </component>

    <component id="thread_pool_blind" type="jeus:Blind">
        <binding name="title" value="message:common.label.advanced"/>
    </component>

    <component id="thread_poolForm" type="jeus:JEUSForm">
        <binding name="title" value="message:JeusServiceWebListener_Configuration.thread_pool"/>
        <binding name="success" value="listener:onThreadPoolOk"/>
    </component>

    <component id="min" type="jeus:Field">
        <binding name="field" value="component:minField"/>
    </component>

    <component id="minField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadPool"/>
        <binding name="elementName" value="literal:min"/>
        <binding name="translator" value="translator:number2"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="max" type="jeus:Field">
        <binding name="field" value="component:maxField"/>
    </component>

    <component id="maxField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadPool"/>
        <binding name="elementName" value="literal:max"/>
		<binding name="validators" value="validators:$maxValidator"/>
    </component>

    <bean name="maxValidator" class="jeus.tool.webadmin.validator.FieldMinMaxValidator">
        <set name="minField" value="component:minField"/>
        <set name="min" value="1"/>
    </bean>

    <component id="step" type="jeus:Field">
        <binding name="field" value="component:stepField"/>
    </component>

    <component id="stepField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadPool"/>
        <binding name="elementName" value="literal:step"/>
		<binding name="validators" value="validators:$stepValidator"/>
    </component>

    <bean name="stepValidator" class="jeus.tool.webadmin.validator.StepValidator">
        <set name="minField" value="component:minField"/>
        <set name="maxField" value="component:maxField"/>
        <set name="min" value="0"/>
    </bean>    

    <component id="max_idle_time" type="jeus:Field">
        <binding name="field" value="component:max_idle_timeField"/>
        <binding name="unit" value="message:common.unit.msec"/>
    </component>

    <component id="max_idle_timeField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadPool"/>
        <binding name="elementName" value="literal:maxIdleTime"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="max_wait_queue" type="jeus:Field">
        <binding name="field" value="component:max_wait_queueField"/>
    </component>

    <component id="max_wait_queueField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadPool"/>
        <binding name="elementName" value="literal:maxWaitQueue"/>
        <binding name="translator" value="translator:number2"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="thread_state_notifySection" type="jeus:FormSection">
        <binding name="title" value="message:wlc.thread_pool.thread_state_notify.title"/>
    </component>

    <component id="max_thread_active_time" type="jeus:Field">
        <binding name="field" value="component:max_thread_active_timeField"/>
    </component>

    <component id="max_thread_active_timeField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:maxThreadActiveTime"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=-1"/>
    </component>

    <component id="notify_threshold" type="jeus:Field">
        <binding name="field" value="component:notify_thresholdField"/>
    </component>

    <component id="notify_thresholdField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:notifyThresholdRatio"/>
        <binding name="translator" value="translator:number2,valueType=Double"/>
        <binding name="validators" value="validators:min=-1,max=1"/>
    </component>

    <component id="restart_threshold" type="jeus:Field">
        <binding name="field" value="component:restart_thresholdField"/>
    </component>

    <component id="restart_thresholdField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:restartThresholdRatio"/>
        <binding name="translator" value="translator:number2,valueType=Double"/>
        <binding name="validators" value="validators:min=-1,max=1"/>
    </component>

    <component id="notify_subject" type="jeus:Field">
        <binding name="field" value="component:notify_subjectField"/>
    </component>

    <component id="notify_subjectField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:notifySubject"/>
    </component>

    <component id="restart_subject" type="jeus:Field">
        <binding name="field" value="component:restart_subjectField"/>
    </component>

    <component id="restart_subjectField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:restartSubject"/>
    </component>

    <component id="interrupt_thread" type="jeus:Field">
        <binding name="field" value="component:interrupt_threadField"/>
    </component>

    <component id="interrupt_threadField" type="jeus:JAXBCheckbox">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:interruptThread"/>
    </component>    
    
    <component id="active_timeout_notification" type="jeus:Field">
        <binding name="field" value="component:active_timeout_notificationField"/>
    </component>

    <component id="active_timeout_notificationField" type="jeus:JAXBCheckbox">
        <binding name="parentElement" value="threadStateNotify"/>
        <binding name="elementName" value="literal:activeTimeoutNotification"/>
    </component>    
    
    <component id="miscellaneousForm" type="jeus:JEUSForm">
        <binding name="title" value="message:JeusServiceWebListener_Configuration.miscellaneous"/>
        <binding name="success" value="listener:onMiscellaneousOk"/>
    </component>

    <component id="hth_count" type="jeus:Field">
        <binding name="field" value="component:hth_countField"/>
    </component>

    <component id="hth_countField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:hthCount"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=1"/>
    </component>

    <component id="disable_pipe" type="jeus:Field">
        <binding name="field" value="component:disable_pipeField"/>
    </component>

    <component id="disable_pipeField" type="jeus:JAXBCheckbox">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:disablePipe"/>
    </component>

    <component id="webtob_address" type="jeus:Field">
        <binding name="field" value="component:webtob_addressField"/>
    </component>

    <component id="webtob_addressField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:webtobAddress"/>
        <binding name="validators" value="validators:$addressPatternValidator"/>
    </component>

    <component id="registration_id" type="jeus:Field">
        <binding name="field" value="component:registration_idField"/>
    </component>

    <component id="registration_idField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:registrationId"/>
    </component>

    <component id="webtob_home" type="jeus:Field">
        <binding name="field" value="component:webtob_homeField"/>
    </component>

    <component id="webtob_homeField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:webtobHome"/>
    </component>

    <component id="read_timeout" type="jeus:Field">
        <binding name="field" value="component:read_timeoutField"/>
    </component>

    <component id="read_timeoutField" type="jeus:JAXBTextField">
        <binding name="parentElement" value="backup"/>
        <binding name="elementName" value="literal:readTimeout"/>
        <binding name="translator" value="translator:number2,valueType=Long"/>
        <binding name="validators" value="validators:min=0"/>
    </component>

    <bean name="addressPatternValidator"
		class="org.apache.tapestry.form.validator.Pattern">
		<set name="pattern" value="literal:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)" />
		<set name="message" value="message:common.exception.0016" />
	</bean>
</page-specification>
