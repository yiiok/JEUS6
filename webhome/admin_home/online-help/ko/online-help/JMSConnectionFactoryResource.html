<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>JMS 커넥션 팩토리</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="up" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="prev" href="JMSClientResource.html" title="JMS 클라이언트 리소스"/><link rel="next" href="JMSConnectionResource.html" title="JMS 커넥션 리소스"/></head><body><div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="JMSConnectionFactoryResource"/>JMS 커넥션 팩토리</h2></div></div></div>
  

  

  <p><span class="bold"><strong>네비게이션 경로</strong></span>: Home &gt;
  <em class="replaceable"><code>node-name</code></em> &gt; 엔진 컨테이너 &gt;
  <em class="replaceable"><code>container-name</code></em> &gt; 리소스 &gt; JMS &gt; 커넥션
  팩토리</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JMSConnectionFactoryResource_Overview"/>개요</h3></div></div></div>
    

    <p>이 페이지에서는 이 엔진 컨테이너의 JMS 엔진에 설정되어 있는 커넥션 팩토리의 목록을 표의 형태로 볼 수 있다. 표에는
    커넥션 팩토리 별로 다음 정보가 표시된다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">종류</strong></span></span></dt><dd>
          <p>이 커넥션 팩토리를 통해 만들 수 있는 커넥션의 종류에 따라 <span class="token">nonxa</span>,
          <span class="token">xa</span>, <span class="token">queue</span>, <span class="token">topic</span>,
          <span class="token">xaqueue</span>, <span class="token">xatopic</span> 중 한 가지 값이 나타난다. 각 종류에
          대한 자세한 설명은 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create" title="새 커넥션 팩토리 생성">새 커넥션 팩토리 생성</a>
          페이지의 도움말을 참고하기 바란다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">이름</strong></span></span></dt><dd>
          <p>JMS 엔진에서 내부적으로 사용하는 커넥션 팩토리 이름. 클릭하면 해당 커넥션 팩토리의 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Configuration_general" title="설정">설정</a> 페이지로
          이동한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">익스포트 이름</strong></span></span></dt><dd>
          <p>JNDI 서버에 등록된 커넥션 팩토리 이름. JNDI Lookup을 통해 커넥션 팩토리를 얻을 때 클라이언트는
          이 이름을 사용한다. 위의 이름과는 다를 수 있다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">명령</strong></span></span></dt><dd>
          <p><span><strong class="guibutton">바인드</strong></span> 버튼을 누르면 커넥션 팩토리를 JNDI 서버에 등록할 수 있다.
          이미 등록되어 있으면 이 버튼은 비활성화 되어 클릭할 수 없다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">삭제</strong></span></span></dt><dd>
          <p>휴지통 아이콘(<span class="inlinemediaobject"><img src="resources/table/delete.gif"/></span>)을 클릭하면 삭제 확인을 묻는 대화상자가 나타나고
          <span><strong class="guibutton">확인</strong></span> 버튼을 누르면 커넥션 팩토리를 JMS 엔진에서 제거한다.</p>
        </dd></dl></div>

    <p>커넥션 팩토리 목록 아래에 있는 <span><strong class="guibutton">새 커넥션 팩토리 생성</strong></span> 링크를 클릭하면 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create" title="새 커넥션 팩토리 생성">새 커넥션 팩토리 생성</a> 페이지로 이동하여 새로운 커넥션 팩토리를
    JMS 엔진에 추가할 수 있다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JMSConnectionFactoryResource_Create"/>새 커넥션 팩토리 생성</h3></div></div></div>
    

    <p>새 커넥션 팩토리 생성은 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create_general" title="1. 기본 설정">1. 기본
    설정</a>, <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create_thread_pool" title="2. 쓰레드 풀">2.
    쓰레드 풀</a>, <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create_create" title="3. 생성">3.
    생성</a>의 세 단계를 거쳐
    이루어진다.</p>

    <h4><a id="JMSConnectionFactoryResource_Create_general"/>1. 기본
    설정</h4>

    <p>새로 생성할 커넥션 팩토리의 기본적인 속성을 지정하는 단계이다. 필수적으로 다음 두 개 필드를 설정해야 한다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Type</strong></span></span></dt><dd>
          <p>클라이언트가 이 커넥션 팩토리로부터 만들 수 있는 커넥션의 종류에 따라 결정한다.</p>

          <div class="itemizedlist"><ul type="disc"><li>
              <p>분산 트랜잭션이 필요하지 않은 경우: <span class="token">nonxa</span>를 선택한다. 특정 메시징
              도메인만 사용 가능하도록 하려면 <span class="token">queue</span>나 <span class="token">topic</span>을
              지정한다.</p>
            </li><li>
              <p>분산 트랜잭션이 필요한 경우: <span class="token">xa</span>를 선택한다. 특정 메시징 도메인만 사용
              가능하도록 하려면 <span class="token">xaqueue</span>나 <span class="token">xatopic</span>을
              지정한다.</p>
            </li></ul></div>

          <p>기본 값은 <span class="token">nonxa</span>이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Name</strong></span></span></dt><dd>
          <p>커넥션 팩토리의 이름을 입력한다. 한 JMS 엔진 내에서 다른 커넥션 팩토리와 중복되어서는 안
          된다.</p>
        </dd></dl></div>

    <p><span><strong class="guilabel">고급 선택사항</strong></span>에서는 추가로 다음 필드들을 설정할 수 있다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Service</strong></span></span></dt><dd>
          <p>클라이언트가 이 커넥션 팩토리로부터 커넥션을 생성하면 어느 JMS 서비스 채널에 연결될지를 설정한다. <a href="JeusServiceServerChannel.html#JeusServiceServerChannel_Configuration" title="서비스 채널 - 설정">서비스 채널 - 설정</a>에 설정되어 있는 서비스 채널
          중 하나의 이름을 입력한다. 비워두면 가장 먼저 설정된 서비스 채널이 선택된다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Export Name</strong></span></span></dt><dd>
          <p>JNDI Lookup에 사용되는 커넥션 팩토리의 익스포트 이름을 입력한다. 지정하지 않으면 Name 값이 그대로
          사용된다. 같은 JNDI 서버 내에서 중복되지 않도록 한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Fixed Client Id</strong></span></span></dt><dd>
          <p>아래 <span><strong class="guilabel">Client Id</strong></span> 필드에서 클라이언트 아이디를 지정한 경우, 이
          커넥션 팩토리로부터 생성한 커넥션에 클라이언트 아이디를 부여하는 방식을 결정한다. 아래 표에서 보듯이, 체크하지 않으면
          커넥션을 생성할 때마다 JEUS MQ 서버가 커넥션 생성 연번을 덧붙여 클라이언트 아이디를 부여한다. 기본 설정은 체크되어
          있는 상태이다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th align="center">구분</th><th align="center">체크</th><th align="center">체크 해제</th></tr></thead><tbody><tr><td>클라이언트 아이디</td><td>&lt;<em class="replaceable"><code>client-id</code></em>&gt;</td><td>&lt;<em class="replaceable"><code>client-id</code></em>&gt;.&lt;<em class="replaceable"><code>커넥션
                  생성 연번</code></em>&gt;</td></tr></tbody></table>
          </div>

          <p><span><strong class="guilabel">Client Id</strong></span> 필드에서 클라이언트 아이디를 지정하지 않으면 이 설정에
          관계 없이 클라이언트가 생성한 커넥션의 클라이언트 아이디 값은 항상 <span class="token">null</span>이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Broker Selection Policy</strong></span></span></dt><dd>
          <p>분산 커넥션 팩토리로 설정한 경우, 클라이언트가 이 커넥션 팩토리로부터 커넥션을 생성하거나 커넥션
          Failover를 시도할 때 접속을 시도할 JMS 서비스 채널을 선택하는 정책을 지정한다. active-standby로
          설정하면 <a href="JeusServiceServerChannel.html#JeusServiceServerChannel_Configuration" title="서비스 채널 - 설정">서비스 채널 - 설정</a>의 클러스터
          섹션에 나타난 서비스 채널 목록에서 먼저 나타난 서비스 채널이 나중에 나타난 서비스 채널보다 우선적으로 선택된다. 설정에
          따른 연결 동작 방식은 다음 표에 나와 있다. 기본적으로 <span><strong class="guilabel">round-robin</strong></span> 방식이
          사용된다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th align="center">구분</th><th align="center"><span><strong class="guilabel">round-robin</strong></span></th><th align="center"><span><strong class="guilabel">random</strong></span></th></tr></thead><tbody><tr><td>커넥션 생성 시</td><td>임의의 서비스 채널</td><td>임의의 서비스 채널</td></tr><tr><td>커넥션 장애 발생 시</td><td>장애가 일어난 서비스 채널의 다음 서비스 채널</td><td>장애가 일어난 서비스 채널을 제외한 나머지 서비스 채널들 중 하나</td></tr><tr><td>연결 실패 시</td><td>연결에 실패한 서비스 채널의 다음 서비스 채널</td><td>연결에 실패한 서비스 채널을 제외한 나머지 서비스 채널들 중 하나</td></tr><tr><td>모든 서버에 연결 실패 시</td><td>마지막으로 연결에 실패한 서비스 채널의 다음 서비스 채널</td><td>임의의 서비스 채널</td></tr></tbody></table>
          </div>
        </dd><dt><span class="term"><span><strong class="guilabel">Client Id</strong></span></span></dt><dd>
          <p>이 커넥션 팩토리로부터 생성한 커넥션에 기본적으로 부여되는 클라이언트 아이디 값을 입력한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Request Blocking Time</strong></span></span></dt><dd>
          <p>클라이언트에서 서버로 요청을 보낼 경우 응답이 올 때까지 기다리는 시간이다. 이 시간이 지나게 되면
          클라이언트에 JMSException을 throw하며 block이 풀려난다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Reconnect Enabled</strong></span></span></dt><dd>
          <p>장애 발생시 재연결을 할 지 여부를 설정한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Reconnect Period</strong></span></span></dt><dd>
          <p>재연결을 시도할 시간을 설정한다. 기본값은 0으로 무한대로 시도를 하게된다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Reconnect Interval</strong></span></span></dt><dd>
          <p>재연결을 시도할 때 각 시도간의 시간간격을 설정한다.</p>
        </dd></dl></div>

    <h4><a id="JMSConnectionFactoryResource_Create_thread_pool"/>2.
    쓰레드 풀</h4>

    <p>커넥션을 통해 서버와 메시지를 주고 받거나 비동기적으로 메시지 리스너(Message Listener)의
    <code class="methodname">onMessage()</code>를 호출하는 등의 작업을 수행하기 위해 JEUS MQ 클라이언트
    라이브러리는 내부적으로 쓰레드를 이용한다. 이 단계에서는 이런 쓰레드들을 커넥션 팩토리 단위로 관리하는 쓰레드 풀을
    설정한다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max</strong></span></span></dt><dd>
          <p>쓰레드 풀의 최대 크기를 0 이상의 정수 범위 내에서 입력한다. 기본값은 300이다.</p>
        </dd></dl></div>

    <p><span><strong class="guilabel">고급 선택사항</strong></span>에서는 추가로 다음 필드들을 설정할 수 있다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Min</strong></span></span></dt><dd>
          <p>쓰레드 풀의 최소 크기를 0 이상의 정수 범위 내에서 입력한다. 기본값은 1이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keep Alive Time</strong></span></span></dt><dd>
          <p>최소 크기를 초과하는 사용하지 않는 쓰레드가 남아있을 수 있는 시간을 밀리초 단위로 설정한다. 기본값으로 5분이
          설정되어 있다.</p>
        </dd></dl></div>

    <h4><a id="JMSConnectionFactoryResource_Create_create"/>3.
    생성</h4>

    <p><span><strong class="guilabel">이 커넥션 팩토리를 지금 바인드 하시겠습니까?</strong></span> 옆의 체크 박스에 표시한 뒤
    <span><strong class="guibutton">생성</strong></span> 버튼을 누르면 앞에서 설정한 대로 새로운 커넥션 팩토리가 JMS 엔진에 추가되면서
    네이밍 서버에도 바로 등록된다. 바로 등록하지 않고 커넥션 팩토리를 생성한 경우에는 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Overview" title="개요">개요</a> 페이지에서
    <span><strong class="guibutton">바인드</strong></span> 버튼을 눌러 추후에 커넥션 팩토리를 JNDI 서버에 등록할 수 있다.</p>

    <p>커넥션 팩토리를 JNDI 서버에 등록한 뒤에는 클라이언트가 이 커넥션 팩토리의 익스포트 이름으로 JNDI Lookup 하여
    커넥션 팩토리를 얻고, 커넥션 팩토리를 사용해서 설정한 종류의 커넥션을 생성할 수 있다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JMSConnectionFactoryResource_Configuration_general"/>설정</h3></div></div></div>
    

    <p>이 페이지에서는 특정 커넥션 팩토리의 세부적인 설정을 <span><strong class="guilabel">기본 설정</strong></span> 서브탭과
    <span><strong class="guilabel">쓰레드 풀</strong></span> 서브탭을 통해 확인 및 수정할 수 있다.</p>

    <h4><a id="d4e1907"/>기본 설정</h4>

    <p><a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create" title="새 커넥션 팩토리 생성">새 커넥션 팩토리 생성</a>의 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create_general" title="1. 기본 설정">1. 기본
    설정</a> 단계에서 설정한 것과 같은
    필드들을 설정할 수 있다. 단 Type 필드와 Name 필드의 값은 바꿀 수 없다(<a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Overview" title="개요">개요</a> 페이지에서 커넥션 팩토리를 삭제한 뒤 다시
    생성하거나, 다른 타입과 다른 이름의 커넥션 팩토리를 생성하기 바란다).</p>

    <h4><a id="JMSConnectionFactoryResource_Configuration_thread_pool"/>쓰레드
    풀</h4>

    <p><a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create" title="새 커넥션 팩토리 생성">새 커넥션 팩토리 생성</a>의 <a href="JMSConnectionFactoryResource.html#JMSConnectionFactoryResource_Create_thread_pool" title="2. 쓰레드 풀">2.
    쓰레드 풀</a> 단계에서 설정한 것과
    같은 필드들을 설정할 수 있다.</p>
  </div>
</div><div xmlns="" align="center"/></body></html>