<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>요청 쓰레드 모니터링</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="up" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="prev" href="JeusMonitoringThreadMonitoringService.html" title="쓰레드 풀 모니터링"/><link rel="next" href="JeusMonitoringTransactionMonitoringService.html" title="트랜잭션 모니터링"/></head><body><div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="JeusMonitoringRequestThreadMonitoringService"/>요청 쓰레드 모니터링</h2></div></div></div>
    

    

    <p>
        <span class="bold"><strong>네비게이션 경로</strong></span>
        : Home &gt;
        <em class="replaceable"><code>node-name</code></em>
        &gt; JEUS 모니터링 &gt; 요청 쓰레드 모니터링
    </p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusMonitoringRequestThreadMonitoringService_Servlet"/>Servlet</h3></div></div></div>
    	
    	<p>웹 리스너의 전체 상태를 볼 수 있다. 리스너가 가지고 있는 쓰레드 풀의 정보 뿐만 아니라
    	현재 총 쓰레드 개수와 그 중 활성중인 것과 블럭된 쓰레드를 볼 수 있고, 
    	최대 쓰레드의 개수와 현재 큐에서 대기중인 것이 몇 개인지도 알 수 있다.  
    	해당 worker 쓰레드 별로 현재 상태와 만들어진 후 경과된 시간, 쓰레드로 들어온 요청의 총 개수, 평균 
    	처리시간, 현재 애플리케이션을 볼 수 있다. 표 편집을 클릭하면 팝업창이 떠서, 페이지 크기 콤보박스에서
    	한 페이지에 보이는 쓰레드의 개수를 설정할 수 있고, 그 아래의 리스트 박스를 편집하여 표에서 보고 싶은 
    	항목을 편집할 수 있다.
</p>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusMonitoringRequestThreadMonitoringService_EJB"/>EJB</h3></div></div></div>
    	
        <p>리모트 요청이 들어오면 RMI Thread가 생성되어 요청을 수행하게 되는데, 현재 수행 중인 RMI Thread의 정보를 보여 준다.
        쓰레드 아이디와 이름에 해당하는 쓰레드가 "waiting for thread ticket" 인지 "active" 상태인지 확인할 수 있다.
        "waiting for thread ticket" 상태는 jeus-ejb-dd.xml에 thread-max에 설정한 값 보다 많은 요청이 한꺼번에 들어오면 더이상 RMI Thread를 생성하지 않고
        그 요청을 기다리게 하는 데 이때 상태를 말한다. "active"는 많은 요청이 수행 중이지 않아 바로 Thread Ticket을 받아 요청을 처리할 수 있는 상태를 말한다.
        또한 요청을 받은지 얼마나 지났는지 수행 시간도 표시된다. 이것을 보고 예상한 시간보다 수행 시간이 많이 길어지면 수행 쓰레드에 interrupt를 걸 수 있다.
        이 쓰레드에 interrupt을 걸고 나면 그 후에 그 쓰레드에서 요청하는 EJB 호출은 모두 거부되고 EJBException을 던지게 된다. 
        하지만 이미 요청이 들어가서 수행중이면 더이상 그 요청에 interrupt은 걸리지 않는다.
        또한 thread의 interrupt 기능은 예상치 못한 많은 문제가 생길 수 있으므로 조심해서 사용해야한다.       
        </p>

        <p>
            </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">경고</h3>
                <p>쓰레드에 interrupt가 걸려 있으면 수행중인 쓰레드가 바로 중단되는 것이 아니라 interrupt
                status를 체크하여 Exception을 던져 더이상 진행하지 않도록 유도하는 것이기 때문에 발생하는 Exception에
                대해서는 사용자 어플리케이션에서 처리해 주어야 한다. exception을 제대로 처리해 주지 않아서 발생하는 문제에 대해서는
                사용자에게 책임이 있다.</p>
                <p>또한 쓰레드에 interrupt가 걸린다고 해서 해당 쓰레드가 강제적으로 멈춘다든가, interrupt를 발생
                시키는 순간에 바로 효과가 있는 것은 아니다. interrupt status를 체크하는 operation을 수행하려고 할 때
                쓰레드가 interrupt에 걸려있으면 Exception이 발생하는 것이다.</p>
                <p>쓰레드 interrupt에 대한 자세한 설명은 "JEUS Server 안내서 4.2.쓰레드 모니터링 및 제어" 장을 참고하기 바란다.</p>
            </div><p>
        </p>
    </div>
</div><div xmlns="" align="center"/></body></html>