<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>EJB 엔진</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="up" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="prev" href="JeusServiceEngine.html" title="엔진"/><link rel="next" href="JeusServiceJMSEngine.html" title="JMS 엔진"/></head><body><div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="JeusServiceEJBEngine"/>EJB 엔진</h2></div></div></div>
  

  

  <p><span class="bold"><strong>네비게이션 경로</strong></span>: Home &gt;
  <em class="replaceable"><code>node-name</code></em> &gt; 엔진 컨테이너 &gt;
  <em class="replaceable"><code>container-name </code></em>&gt; 엔진 &gt; EJB 엔진 </p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceEJBEngine_Configuration"/>설정</h3></div></div></div>
    
    
        <p>EJB 엔진에서 필수적으로 설정해야 할 사항은 없다. 아래 도움말을 참고하여 필요한 항목만 설정하도록 한다.</p>
        <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="JeusServiceEJBEngine_Configuration_general"/>기본 설정</h4></div></div></div>
      
        <p>기본 설정에는 다은과 같은 설정이 있다.</p>
        
            <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Resolution</strong></span></span></dt><dd>
                  <p>
                  EJB 엔진의 상태를 체크하는 주기이다.
                  </p>
                </dd><dt><span class="term"><span><strong class="guilabel">Enable User Notify</strong></span></span></dt><dd>
                  <p>
                  엔진 컨테이너에서 설정한 사용자 로그에 기록한다.
                  </p>
                </dd><dt><span class="term"><span><strong class="guilabel">Use Dynamic Proxy for EJB2</strong></span></span></dt><dd>
                  <p>
                  EJB 2.x 스타일의 빈을 기존 RMI stub 방식 대신 dynamic proxy 방식을 이용하게 한다.
                  </p>
                </dd></dl></div>             
          
      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="JeusServiceEJBEngine_Configuration_logging"/>로그</h4></div></div></div>
      
        <p>로그를 설정하는 곳으로 다음과 같은 항목이 있다.</p>
        
        <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Level </strong></span></span></dt><dd>
              <p>logging의 level을 설정한다. 각 level의 의미는 J2SE의 logging API의 Level
              class를 참고하기 바란다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Name </strong></span></span></dt><dd>
              <p>로그의 이름을 설정한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Use Parent Handlers </strong></span></span></dt><dd>
              <p>parent logger의 handler들을 이 logger에서도 사용할지를 결정한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Filter Class </strong></span></span></dt><dd>
              <p>logger에 지정할 filer class의 fully qualified class name을 설정한다.</p>
            </dd></dl></div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="JeusServiceEJBEngine_Configuration_active_mgmt"/>쓰레드 관리</h4></div></div></div>
      
        <p>쓰레드를 관리 하는 곳으로 다음과 같은 항목이 있다.</p>

        <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max Blocked Thread</strong></span></span></dt><dd>
              <p>블럭된 thread의 최대 개수를 설정한다. 이 설정 값 보다 EJB에 block 된 Thread 개수가 많을 경우에 Container를 restart 시킨다. </p>
            </dd><dt><span class="term"><span><strong class="guilabel">Max Idle Time</strong></span></span></dt><dd>
              <p>설정한 시간보다 오래 thread가 idle 상태를 유지하면 해당 thread는 블럭되었다고 간주한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Smtp Host Address</strong></span></span></dt><dd>
                  <p>email을 보낼 smtp server의 주소를 지정한다.</p>
                </dd><dt><span class="term"><span><strong class="guilabel">From Address</strong></span></span></dt><dd>
                  <p>email을 보내는 사람의 address를 지정한다.</p>
                </dd><dt><span class="term"><span><strong class="guilabel">To Address</strong></span></span></dt><dd>
                  <p>email을 받는 사람의 address를 지정한다.</p>
                </dd><dt><span class="term"><span><strong class="guilabel">Cc Address</strong></span></span></dt><dd>
                  <p>email을 참조로 받는 사람의 address를 지정한다.</p>
                </dd><dt><span class="term"><span><strong class="guilabel">Bcc Address</strong></span></span></dt><dd>
                  <p>email을 숨은 참조로 받는 사람의 address를 지정한다.</p>
                </dd></dl></div>
        
      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="JeusServiceEJBEngine_Configuration_invoke_http"/>HTTP 호출</h4></div></div></div>
      
    <p>EJB stub의 RMI호출을 HTTP-RMI으로 통신하는 설정이다. </p>

        <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">URL</strong></span></span></dt><dd>
              <p>프로토콜, 웹 서버 IP, 포트번호를 제외하고 오직 Servlet 요청 경로만을 설정 한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Http Port</strong></span></span></dt><dd>
              <p>HTTP-RMI 요청을 받고 처리할 웹 서버의 포트번호를 설정한다. </p>
            </dd></dl></div>
        
      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="JeusServiceEJBEngine_Configuration_timer_service"/>타이머 서비스</h4></div></div></div>
      
        <p>EJB engine이 제공하는 Timer Service에 대한 설정을 한다.</p>

        <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Min Delivery Interval</strong></span></span></dt><dd>
              <p>이 값은 특정 timer가 생성된 후에 timer event가 발생하기까지의 최소 시간이다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Max Redelivery Count</strong></span></span></dt><dd>
              <p>이 값은 timer callback 함수에서 exception이 발생하거나 transaction이 rollback되어 재전송이 발생하는 상황에서 최대 재전송 횟수를 나타낸다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Redelivery Interval</strong></span></span></dt><dd>
              <p>이 값은 재전송을 해야 할 상황이 발생했을 때부터 재전송하기까지의 시간이다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Min </strong></span></span></dt><dd>
              <p>pooling되는 객체의 최소값을 지정한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Max</strong></span></span></dt><dd>
              <p>pooling되는 객체의 최대값을 지정한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Period</strong></span></span></dt><dd>
              <p>설정한 시간 후에 pool에 있는 객체의 갯수를 min값에 지정된 갯수만큼 줄인다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">DB Vendor</strong></span></span></dt><dd>
              <p>Timer service가 persistence를 위해 사용하는 DB의 vendor 설정이다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Data Source Name</strong></span></span></dt><dd>
              <p>Timer service가 persistence를 위해 사용하는 DB의 datasource의 export name 설정이다. </p>
            </dd><dt><span class="term"><span><strong class="guilabel">Engine Type</strong></span></span></dt><dd>
              <p>Timer service가 DB에 접근하는 방식을 설정한다.</p>
            </dd><dt><span class="term"><span><strong class="guilabel">Table Name</strong></span></span></dt><dd>
              <p>Timer service가 사용하는 DB의 Table 이름을 설정한다.</p>
            </dd></dl></div>
        
      <p/>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceEJBEngine_Statistics"/>통계</h3></div></div></div>
    
     	<p>EJB 엔진이 Running 상태인 경우에만 보이는 서브탭이다.
     	</p>
    	<p>이 EJB 엔진에 디플로이 되어 있는 모든 모듈의 빈의 정보 목록과 현재 EJB를 실행 중인 RMI Thread의 정보를 표로 보여 준다.     	
    	</p>
    <div class="section" lang="ko"><div class="titlepage"/>
    	<p>이 EJB 엔진에 디플로이 되어 있는 모든 빈의 정보를 표로 보여준다.
    	이 빈이 어떤 application에 포함되어 있는 지, 어떤 EJB module에 포함되어 있는 지, 어떤 이름을 가지는 지 보여준다.
    	또한 몇번 create와 remove가 호출되었는 지와 요청이 몇 번 들어왔고, 그 중 커밋과 롤백이 각각 몇 번 되었는지 보여준다.
    	</p>
    </div>
    <div class="section" lang="ko"><div class="titlepage"/>
        <p>리모트 요청이 들어오면 RMI Thread가 생성되어 요청을 수행하게 되는데, 현재 수행 중인 RMI Thread의 정보를 보여 준다.
        쓰레드 아이디와 이름에 해당하는 쓰레드가 "waiting for thread ticket" 인지 "active" 상태인지 확인할 수 있다.
        "waiting for thread ticket" 상태는 jeus-ejb-dd.xml에 thread-max에 설정한 값 보다 많은 요청이 한꺼번에 들어오면 더이상 RMI Thread를 생성하지 않고
        그 요청을 기다리게 하는 데 이때 상태를 말한다. "active"는 많은 요청이 수행 중이지 않아 바로 Thread Ticket을 받아 요청을 처리할 수 있는 상태를 말한다.
        또한 요청을 받은지 얼마나 지났는지 수행 시간도 표시된다. 이것을 보고 예상한 시간보다 수행 시간이 많이 길어지면 수행 쓰레드에 interrupt를 걸 수 있다.
        이 쓰레드에 interrupt을 걸고 나면 그 후에 그 쓰레드에서 요청하는 EJB 호출은 모두 거부되고 EJBException을 던지게 된다. 
        하지만 이미 요청이 들어가고 수행주이고 더이상 그 thread에서 다른 EJB call이 없을 때는 효과가 없다.
        또한 thread의 interrupt 기능은 예상치 못한 많은 문제가 생길 수 있으므로 조심해서 사용해야한다.       
        </p>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceEJBEngine_Distribute"/>배포</h3></div></div></div>
    

    <p>자신의 EJB 엔진 설정을 다른 EJB 엔진에 복사할 때 사용한다. 자신을 제외한 다른 EJB 엔진 리스트 중에서 복사할
    엔진을 선택하여 확인을 클릭한다.</p>

    <p>여기서 현재 운영중인 EJB 엔진에 새로운 설정을 복사 했다고 해도 엔진을 재시작 하지 않으면 새로 복사된 설정이 적용되지
    않는다는 점을 주의한다.</p>
  </div>
</div><div xmlns="" align="center"/></body></html>