<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>웹 리스너</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="up" href="index.html" title="WebAdmin 온라인 도움말"/><link rel="prev" href="JeusServiceVirtualNode.html" title="가상호스트"/><link rel="next" href="PermanentModule.html" title="영구 모듈"/></head><body><div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="JeusServiceWebListener"/>웹 리스너</h2></div></div></div>
  

  

  <p><span class="bold"><strong>네비게이션 경로</strong></span>: Home &gt;
  <em class="replaceable"><code>node-name</code></em> &gt; 엔진 컨테이너 &gt;
  <em class="replaceable"><code>container-name</code></em> &gt; 엔진 &gt; 서블릿 엔진 &gt;
  <em class="replaceable"><code>context-group-name</code></em> &gt;
  <em class="replaceable"><code>listener-name</code></em></p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceWebListener_Overview"/>개요</h3></div></div></div>
    

    <p>이 페이지에서는 웹 리스너에 대한 각종 정보를 열람하고 설정할 수 있다. 또한 통계 서브탭에서는 설정된 웹 리스너가 가지고
    있는 쓰레드 풀의 정보를 표의 형태로 볼 수 있다. 웹 리스너의 종류에 따라 설정 정보가 달라지는데 ...</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceWebListener_Configuration"/>웹 리스너 설정</h3></div></div></div>
    

    <p>웹 리스너의 설정은 기본 설정, 쓰레드 풀 설정, SSL 설정의 세 가지로 나누어 진다.</p>

    <h4><a id="JeusServiceWebListener_Configuration_general"/>1. 기본
    설정</h4>

    <p>기본 설정에는 다음 두 개의 필드가 반드시 있어야 한다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Listener Id</strong></span></span></dt><dd>
          <p>해당 Listener 를 식별하기 위한 이름이다. 이 항목은 변경이 불가능하고 Id 를 변경하고 싶을 경우에는
          ContextGroup에서 다시 생생하여야 한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">IP</strong></span></span></dt><dd>
          <p>클라이언트가 접속가능한 서버의 IP 주소이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Port</strong></span></span></dt><dd>
          <p>요청을 받기 위한 port 이다. 포트의 입력값에 대한 특별한 제약사항은 없지만 다른 port 와 충돌되지
          않도록 주의하여야 한다.</p>
        </dd></dl></div>

    <p><span><strong class="guilabel">고급 선택사항</strong></span>은 아래 도움말을 참고로 필요한 항목을 설정한다. 이 중 NIO 리스너를
    사용하도록 하는 &lt;use-nio&gt; 는 웹 리스너 전체적으로 큰 영향을 미치는 매우 중요한 항목이므로 신중히 고려하고
    설정해야 한다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Output Buffer Size </strong></span></span></dt><dd>
          <p>byte 단위로 JSP/Servlet 의 결과를 임시 저장하는 버퍼의 크기를 설정한다. 이 버퍼가 가득 차면 웹
          브라우저로 flush된다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Read Timeout </strong></span></span></dt><dd>
          <p>request를 읽어올 때 기다리는 최대의 시간을 설정한다. keep-alive 알고리즘을 사용한다면(HTTP
          version 1.1) 이 read-timeout설정 값이 0이 아닐 경우 thread의 상황에 따라 재조절 될 수
          있다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Use Nio </strong></span></span></dt><dd>
          <p>이 값이 true 로 설정되면 Nonblocking I/O 모드로 동작한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Postdata Read Timeout </strong></span></span></dt><dd>
          <p>Millisecond 단위로 클라이언트로부터 post-data를 읽어올 때 기다리는 최대 시간을
          설정한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Scheme </strong></span></span></dt><dd>
          <p>request에 사용되는 protocol</p>
        </dd></dl></div>

    <h4><a id="JeusServiceWebListener_Configuration_thread_pool"/>2.
    쓰레드 풀</h4>

    <p>쓰레드 풀은 웹 리스너로 들어오는 요청들을 핸들링 하는 worker thread들을 유지하는데 사용된다. 지정한 포트를
    통해 새로운 요청을 받으면 해당 pool에서 새로운 worker thread를 할당받아 요청에 대한 업무를 처리한다. 여기에서는
    쓰레드 풀에 대한 각종 정보를 설정할 수 있다. 다음의 Min 설정은 최초에 몇 개의 쓰레드를 만들 지 결정하므로 반드시 설정해야
    하는 항목이다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Min</strong></span></span></dt><dd>
          <p>최초의 worker thread 개수이자 최소한으로 유지되는 worker thread 의 개수이다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max</strong></span></span></dt><dd>
          <p>쓰레드가 늘어날 수 있는 최대 개수를 의미한다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Step</strong></span></span></dt><dd>
          <p>풀의 크기를 늘릴 때 증가되는 worker thread의 개수를 나타낸다. 설정하지 않을 경우 디폴트 값은
          1이다.</p>
        </dd></dl></div>

    <p><span><strong class="guilabel">고급 선택사항</strong></span>에서는 쓰레드 풀 자체에 대한 설정과 쓰레드 풀 상태를 통보하기 위한
    설정으로 나누어진다. 먼저 쓰레드 풀에 대한 설정으로 다음과 같은 항목이 있다. 아래 도움말을 참조하여 필요한 항목을 설정하도록
    한다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max Idle Time </strong></span></span></dt><dd>
          <p>풀에서 제거되기 전에 worker thread 가 idle 상태로 있는 최대 시간을 말한다.
          Millisecond 값으로 설정한다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max Wait Queue </strong></span></span></dt><dd>
          <p>요청들을 다루기 위해 새로운 worker thread를 생성하기 전에 request wait queue 큐에
          넣어질 최대 요청의 개수를 설정한다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Max Queue </strong></span></span></dt><dd>
          <p>큐에 대기할 수 있는 최대 요청 값을 설정한다. 이 큐가 꽉 찬 후에 더 많은 요청이 도착하면 busy 페이지가
          클라이언트에게 반환된다. 이 element는 Tmax/WebtoB listener에서는 사용되지 않는다. WebtoB
          listener의 큐 사이즈는 WebtoB 설정 파일에 MaxQCount값으로 구성된다.</p>
        </dd></dl></div>

    <p>다음으로 쓰레드의 상태를 통보하기 위한 설정에는 다음과 같은 것들이 있다.</p>

    <div class="variablelist"><dl><dt><span class="term">Max Thread Active Time</span></dt><dd>
          <p>Millisecond 값으로 쓰레드가 blocking 상태로 간주되는 시간을 설정한다. 가장 길게 실행되는
          thread의 수행시간에 대략 1.5배정도의 값으로 설정하는 것이 적절하다. 0이거나 음수이면 설정이
          무시된다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term">Notify Threshold Ratio</span></dt><dd>
          <p>경고 통지가 e-mail을 이용하여 보내지기 전까지 존재하는 전체 thread갯수 대비 blocked
          thread의 최대 비율을 설정한다. 1보다 작은 소숫점으로 설정하며 0이거나 음수이면 설정이 무시된다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term">Restart Threshold Ratio</span></dt><dd>
          <p>restart 가 수행되기 전까지 존재하는 전체 thread갯수 대비 blocked thread의 최대 비율을
          설정한다. 1보다 작은 소숫점으로 설정하며 0이거나 음수이면 설정이 무시된다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term">Notify Subject</span></dt><dd>
          <p>Notify-threshold가 초과될 때 보내지는 e-mail의 제목어로 수신자(관리자)가 해당 e-mail에
          대해 어떤 내용인지 바로 알아볼 수 있는 메세지로 설정한다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term">Restart Subject</span></dt><dd>
          <p>Restart-threshold가 초과될 때 보내질 e-mail의 제목을 설정하는 것으로 역시 수신자(관리자)가
          해당 e-mail에 대해 어떤 내용인지 바로 알아볼 수 있게 설정하는 것이 좋다.</p>
        </dd></dl></div>

    <div class="variablelist"><dl><dt><span class="term">Active Timeout Notification</span></dt><dd>
          <p>active timeout이 발생할 경우 email notification 유무를 결정한다.</p>
        </dd></dl></div>
    
    
        <div class="variablelist"><dl><dt><span class="term">Thread Interrupt Execution</span></dt><dd>
          <p>active timeout 발생 시 해당 thread의 interrupt 발생 유무를 결정한다.</p>
        </dd></dl></div>
    
    
        <div class="variablelist"><dl><dt><span class="term">Restart Engine Execution</span></dt><dd>
          <p>restart-threshold-ratio을 넘었을 경우 engine의 restart유무를 결정한다.</p>
        </dd></dl></div>


    <h4><a id="JeusServiceWebListener_Configuration_ssl"/>3. SSL
    설정</h4>

    <p>SSL 통신을 지원하기 위한 설정으로 다음과 같은 항목이 있다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Enable Secure </strong></span></span></dt><dd>
          <p>SSL(Secure Socket Layer) 통신 지원 여부를 결정한다. true이면 아래 설정된 값에 따라
          SSL통신을 지원하고, false이면 지원하지 않는다. 기본 값은 false 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Client Auth </strong></span></span></dt><dd>
          <p>client의 인증 여부를 설정한다. true이면 server가 client에게 인증서를 요청하여 client에
          대한 인증을 수행하고, false이면 client에 대한 인증과정을 수행하지 않는다. 일반적으로 B2B를 제외한 보통의
          경우에는 client 인증을 수행하지 않는다. 기본 값은 false 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">SSL Protocol </strong></span></span></dt><dd>
          <p>암호화/복호화하는데 사용되는 SSL 프로토콜을 지정한다. Sun JVM을 사용한다면 TLS, IBM JVM을
          사용할 때는 SSL을 설정해야 한다. 기본 값은 TLS 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Cipher Suite </strong></span></span></dt><dd>
          <p>SSL handshaking후에 실제 데이타를 보낼 때 사용하는 암호슈트들을 지정한다. 일반적으로 JDK에서
          제공하는 cipher-suite를 사용하며, default로 제공되지 않는 cipher suite를 사용할 때
          사용한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keystore File </strong></span></span></dt><dd>
          <p>key와 인증서를 저장하고 있는 파일을 지정한다. 절대경로, 상대경로 모두 허용된다. 만일 상대경로가 사용된다면
          jeus_home/config/nodename 아래에서 해당 파일을 찾는다. 그리고 JVM인자로
          jeus.ssl.keystore과 javax.net.ssl.keyStore을 이용해서 설정할 수 있다. 우선순위는
          설정 값 &gt; jeus &gt; javax 이다. 기본 값은
          jeus_home/config/nodename/keystore 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keystore Pass </strong></span></span></dt><dd>
          <p>keystore파일을 열기 위한 password이다. 이 설정은 JVM인자로 jeus.ssl.keypass과
          javax.net.ssl.keyStorePassword를 이용해서 설정할 수 있다. 우선순위는 설정 값 &gt;
          jeus &gt; javax 이다. 기본 값은 jeuskeypass 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keystore keypassword </strong></span></span></dt><dd>
          <p>keystore 파일의 key를 열기 위한 password이다. 모든 key들은 같은 암호로 저장되어 있어야 한다.
          설정되지 않으면 keystore 암호와 동일한 암호를 사용한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keystore Type </strong></span></span></dt><dd>
          <p>keystore의 타입을 지정한다. Sun의 keytool에 의해서 keystore를 생성한다면
          JKS(Java's Key Store)를, OpenSSL이나 Microsoft KeyManager로 keystore를
          생성한다면 PKCS12를 사용해야 된다. 이 설정은 JVM인자로 javax.net.ssl.keyStoreType을 이용해서
          설정할 수 있다. 우선 순위는 설정 값 &gt; javax 이다. 기본 값은 JKS 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Key Management Algorithm </strong></span></span></dt><dd>
          <p>keystore에 저장할 key에 대한 관리 알고리즘을 설정한다. 기본적으로 Sun JVM을 사용할 경우 SunX509가 지정되며,
          IBM JVM을 사용할 경우에는 IbmX509가 지정된다. 이 설정은 JVM인자로
          ssl.KeyManagerFactory.algorithm을 이용해서 설정할 수 있다. 우선 순위는 설정 값 &gt; javax 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Key Alias</strong></span></span></dt><dd>
          <p>서버 인증서의 키 Alias이름을 설정한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Truststore File </strong></span></span></dt><dd>
          <p>client 인증서를 저장하고 있는 파일을 지정한다. 절대경로, 상대경로 모두 허용된다. 만일 상대경로가
          사용된다면 jeus_home/config/nodename 아래에서 해당 파일을 찾는다. 그리고 JVM인자로
          jeus.ssl.truststore과 javax.net.ssl.trustStore을 이용해서 설정할 수 있다. 우선순위는
          설정 값 &gt; jeus &gt; javax 이다. 기본 값은
          jeus_home/config/nodename/truststore 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Truststore Pass </strong></span></span></dt><dd>
          <p>truststore파일을 열기 위한 password이다. 이 설정은 JVM인자로
          jeus.ssl.trustpass과 javax.net.ssl.trustStorePassword를 이용해서 설정할 수 있다.
          우선순위는 설정 값 &gt; jeus &gt; javax 이다. 기본 값은 jeustrustpass
          이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Truststore Type </strong></span></span></dt><dd>
          <p>truststore의 타입을 지정한다. Sun의 keytool에 의해서 keystore를 생성한다면
          JKS(Java's Key Store)를, OpenSSL이나 Microsoft KeyManager로 keystore를
          생성한다면 PKCS12를 사용해야 된다. 이 설정은 JVM인자로 javax.net.ssl.trustStoreType을
          이용해서 설정할 수 있다. 우선 순위는 설정 값 &gt; javax 이다. 기본 값은 JKS 이다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Trust Management Algorithm </strong></span></span></dt><dd>
          <p>truststore에 저장할 trust에 대한 관리 알고리즘을 설정한다. Sun JVM을 사용할 경우
          SunX509가 지정되며, IBM JVM을 사용할 경우에는 IbmX509가 지정된다. 이 설정은 JVM인자로
          ssl.TrustManagerFactory.algorithm을 이용해서 설정할 수 있다. 우선 순위는 설정 값
          &gt; javax 이다. </p>
        </dd><dt><span class="term"><span><strong class="guilabel">Crl File </strong></span></span></dt><dd>
          <p>Certificate Revocation Lists를 저장하고 있는 파일을 지정한다.</p>
        </dd></dl></div>

    <p/>

    <h4><a id="JeusServiceWebListener_Configuration_backup"/>4. 기타
    설정</h4>

    <p>기타 웹 리스너 설정으로 다음과 같은 항목이 있다.</p>

    <div class="variablelist"><dl><dt><span class="term"><span><strong class="guilabel">Back Log </strong></span></span></dt><dd>
          <p>소켓의 backlog값을 설정한다 (생성자 “java.net.ServerSocket(int port,int
          backlog)에서 소켓 요청을 기다리는 queue의 최대크기). 반드시 0보다 큰 값으로 설정해야 한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Server Access Control </strong></span></span></dt><dd>
          <p>이 값을 true 로 설정하면 허용된 서버(&lt;allowed-server&gt; element에서 지정된)만
          이 listener에 접속할 수 있다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Allowed Server </strong></span></span></dt><dd>
          <p>리스너에 연결이 허용되는 서버의 IP어드레스를 설정한다. 이 기능은
          &lt;server-access-control&gt; element의 값이 true일 때만 동작하고 이 element에
          포함이 안되어 있는 서버로부터 온 모든 요청들은 거절된다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Max Keep Alive Request</strong></span></span></dt><dd>
          <p>리스너가 keep-alive를 사용할 때 허용할 수 있는 최대의 request수를 의미한다. 0이하의 값일 경우
          request 개수에 제한이 없음을 의미한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Keep Alive</strong></span></span></dt><dd>
          <p>keep alive 알고리즘을 사용할 것인지의 여부를 true, false 로 설정한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Selector Count</strong></span></span></dt><dd>
          <p>listener를 nio로 설정 시 selector의 개수를 설정한다.</p>
        </dd><dt><span class="term"><span><strong class="guilabel">Connection Type</strong></span></span></dt><dd>
          <p>response의 Connection type을 강제로 설정한다. 설정이 없는 경우 request의 Connection을 따라감.</p>
        </dd></dl></div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="JeusServiceWebListener_Statistics"/>통계</h3></div></div></div>
    

    <p>통계 서브탭에서는 웹 리스너의 통계를 표 형태로 볼 수 있다. 처음 보이는 표는 리스너가 가지고 있는 쓰레드 풀의
    통계이다. 현재 총 쓰레드 개수와 그 중 활성중인 것과 블럭된 쓰레드를 볼 수 있고, 최대 쓰레드의 개수와 현재 큐에서 대기중인 것이
    몇 개인지도 볼 수 있다.</p>

    <p>쓰레드 풀 이름을 클릭하면 해당 worker 쓰레드 별로 현재 상태와 만들어진 후 경과된 시간, 쓰레드로 들어온 요청의 총
    개수, 평균 처리시간, 현재 애플리케이션을 볼 수 있다. 표 편집을 클릭하면 팝업창이 떠서, 페이지 크기 콤보박스에서 한 페이지에
    보이는 쓰레드의 개수를 설정할 수 있고, 그 아래의 리스트 박스를 편집하여 표에서 보고 싶은 항목을 편집할 수 있다.</p>
  </div>
</div><div xmlns="" align="center"/></body></html>